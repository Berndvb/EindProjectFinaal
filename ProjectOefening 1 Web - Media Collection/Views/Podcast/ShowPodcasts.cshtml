@model IEnumerable<ProjectOefening.ServiceLayer.ViewModels.ShowPodcastViewModel>

@{ ViewData["Title"] = "ShowPodcasts"; }

<head>
    <link rel="stylesheet" href="~/css/Show.css" />
</head>

<style>
    .container {
        padding-top: 15% !important;
        margin-top: 15% !important;
    }
</style>

<div class="container">
    <div class="topNav"> @Html.ActionLink("Main Menu", "Index", "Home")</div>
    <div class="topNav"> @Html.ActionLink("Create New", "CreatePodcast", "Podcast")</div>
    <table>
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ReleaseDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Duration)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Url)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Guests)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Hosts)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Genres)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.Title)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.ReleaseDate)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Duration)
    </td>
    <td>
        <a href="@Html.DisplayFor(modelItem => item.Url)">link</a>
    </td>
    <td>
        @if (item.Guests != null)
        {
@foreach (var guest in item.Guests)
{
<p>@Html.DisplayFor(item => guest.Name)</p>                    } }
                else
                {
<p>Empty</p>                }
    </td>
    <td>
        @if (item.Hosts != null)
        {
@foreach (var host in item.Hosts)
{
<p>@Html.DisplayFor(item => host.Name)</p>                    } }
                else
                {
<p>Empty</p>                }
    </td>
    <td>
        @if (item.Genres != null)
        {
@foreach (var genre in item.Genres)
{
<p>@Html.DisplayFor(item => genre.Name)</p>                    } }
                else
                {
<p>Empty</p>                }
    </td>
    <td>
        <a asp-action="EditPodcast" asp-route-id="@item.Id">Edit</a> |
        <a asp-action="DeletePodcast" asp-route-id="@item.Id">Delete</a> |
        @Html.ActionLink("Reviews", "ShowReviews", "Review", new { id = item.Id }) |
    </td>
</tr>}
        </tbody>
    </table>
</div>